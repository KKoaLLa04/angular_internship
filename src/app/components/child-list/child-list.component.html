<div class="container">
  <h1 class="py-3 text-center">SHOW API LIST</h1>

  <!-- <a routerLink="/add-component" class="btn btn-success">Thêm mới</a> -->
  <button type="button" class="btn btn-primary" (click)="openModal()">Thêm mới</button>
  <br><br>
  <app-search (searchTextChange)="onFilterSearchText($event)"></app-search>
  <hr>
  <table class="table table-bordered" *ngIf="dataShow && dataShow.length > 0">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th width="15%">Avatar</th>
        <th>name</th>
        <th>username</th>
        <th>gender</th>
        <th>age</th>
        <th>Năm học</th>
        <th>Ngày Nhập học</th>
        <th>block</th>
        <th>status</th>
        <th>edit</th>
        <th>delete</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let item of dataShow, let i = index">
        <td>
          {{i+1}}</td>
        <td>
          <img src="{{item.avatar}}" width="100%" />
        </td>
        <td>
          {{item.name}}</td>
        <td>
          {{item.username}}</td>
        <td>
          {{item.gender | genderDate:'gender'}}</td>
        <td>
          {{item.age}}</td>
        <td>
          {{item.date_of_study}}</td>
        <td>
        {{item.date | genderDate:'date'}}</td>
        <td>
          <span *ngIf="item.block1">- Kỳ 1</span>
          <br>
          <span *ngIf="item.block2">- Kỳ 2</span>
        </td>
        <td>
          <span *ngIf="item.status==='1'" class="btn btn-danger">Nghỉ học</span>
          <span *ngIf="item.status==='2'" class="btn btn-success">Đi học</span>
        </td>
        <td>
          <button type="button" class="btn btn-warning" (click)="openEditModal(item.id)">Edit</button>
        </td>
        <td>
          <!-- <button (click)="deleteUser(item.id)" class="btn btn-danger"> -->

          <button type="button" class="btn btn-danger" (click)="openModalDetete(template)">Delete</button>
          <br><br>
          <!-- <pre class="card card-block card-header">{{message}}</pre> -->
          <ng-template #template>
            <div class="modal-body text-center">
              <p>Bạn có chắc chắn muốn xóa??</p>
              <button type="button" class="btn btn-default" (click)="confirm(item.id)">Có</button>
              <button type="button" class="btn btn-primary" (click)="decline()">Hủy</button>
            </div>
          </ng-template>
          <!-- </button> -->
        </td>
      </tr>
    </tbody>
  </table>

  <app-pagination [currentPage]="currentPageData" [totalPages]="totalPagesData"
    (pageChange)="pageChange($event)"></app-pagination>
</div>